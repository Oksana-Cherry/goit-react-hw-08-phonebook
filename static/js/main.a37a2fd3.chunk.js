(this["webpackJsonpgoit-react"]=this["webpackJsonpgoit-react"]||[]).push([[0],{38:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return k})),n.d(e,"b",(function(){return q}));var r,c,a,o=n(4),u=Object(o.b)("contacts/fetchContactRequrest"),i=Object(o.b)("contacts/fetchContactSuccess"),s=Object(o.b)("contacts/fetchContactError"),b=Object(o.b)("contacts/addContactRequrest"),l=Object(o.b)("contacts/addContactSuccess"),j=Object(o.b)("contacts/addContactError"),d=Object(o.b)("contacts/deleteContactRequrest"),f=Object(o.b)("contacts/deleteContactSuccess"),O=Object(o.b)("contacts/deleteContactError"),g=Object(o.b)("contacts/filter"),h=n(14),p=n.n(h),v={fetchContact:function(){return function(t){t(u()),p.a.get("/contacts").then((function(e){var n=e.data;return t(i(n))})).catch((function(e){return t(s(e.message))}))}},addContact:function(t,e){return function(n){var r={name:t,number:e};n(b()),p.a.post("/contacts",r).then((function(t){var e=t.data;return n(l(e))})).catch((function(t){return n(j(t.message))}))}},deleteContact:function(t){return function(e){e(d()),p.a.delete("/contacts/".concat(t)).then((function(){e(f(t))})).catch((function(t){return e(O(t.message))}))}}},x=n(26),m=function(t){return t.contacts.items},y=function(t){return t.contacts.filter},k={getContacts:m,getFilter:y,getLoding:function(t){return t.contacts.loading},getError:function(t){return t.contacts.error},getVisibleContact:Object(x.a)([m,y],(function(t,e){console.log("\u043d\u043e\u0432\u044b\u0439 \u043c\u0430\u0441\u0441\u0438\u0432 \u0432\u0438\u0434\u0438\u043c\u044b\u0445 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432");var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},C=n(3),S=n(28),A=n(6),E=Object(o.c)([],(r={},Object(C.a)(r,i,(function(t,e){return e.payload})),Object(C.a)(r,l,(function(t,e){var n=e.payload;return[].concat(Object(S.a)(t),[n])})),Object(C.a)(r,f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),U=Object(o.c)("",Object(C.a)({},g,(function(t,e){return e.payload}))),R=Object(o.c)(!1,(c={},Object(C.a)(c,u,(function(){return!0})),Object(C.a)(c,i,(function(){return!1})),Object(C.a)(c,s,(function(){return!1})),Object(C.a)(c,b,(function(){return!0})),Object(C.a)(c,l,(function(){return!1})),Object(C.a)(c,j,(function(){return!1})),Object(C.a)(c,d,(function(){return!0})),Object(C.a)(c,f,(function(){return!1})),Object(C.a)(c,O,(function(){return!1})),c)),L=Object(o.c)("",(a={},Object(C.a)(a,s,(function(t,e){return e.payload})),Object(C.a)(a,j,(function(t,e){return e.payload})),Object(C.a)(a,O,(function(t,e){return e.payload})),a)),q=Object(A.c)({items:E,filter:U,loading:R,error:L})},49:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(0);var r=n(54),c=n.n(r),a=n(2),o=function(t){var e=t.children;return Object(a.jsx)("div",{className:c.a.Container,children:e})}},54:function(t,e,n){t.exports={Container:"Container_Container__1SA48"}},63:function(t,e,n){t.exports={header:"AppBar_header__Yd86L"}},9:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return C})),n.d(e,"c",(function(){return S}));var r=n(4),c={registerRequest:Object(r.b)("auth/registerRequest"),registerSuccess:Object(r.b)("auth/registerSuccess"),registerError:Object(r.b)("auth/registerError"),loginRequest:Object(r.b)("auth/loginRequest"),loginSuccess:Object(r.b)("auth/loginSuccess"),loginError:Object(r.b)("auth/loginError"),logoutRequest:Object(r.b)("auth/logoutRequest"),logoutSuccess:Object(r.b)("auth/logoutSuccess"),logoutError:Object(r.b)("auth/logoutError"),getCurrentUserRequest:Object(r.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(r.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(r.b)("auth/getCurrentUserError")},a=n(19),o=n.n(a),u=n(24),i=n(14),s=n.n(i);s.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var b,l,j,d,f=function(t){s.a.defaults.headers.common.Authorization="Bearer ".concat(t)},O=function(){s.a.defaults.headers.common.Authorization=""},g={register:function(t){return function(){var e=Object(u.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(c.registerRequest()),e.prev=1,e.next=4,s.a.post("/users/signup",t);case 4:r=e.sent,f(r.data.token),n(c.registerSuccess(r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(c.registerError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(t){return function(){var e=Object(u.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(c.loginRequest()),e.prev=1,e.next=4,s.a.post("/users/login",t);case 4:r=e.sent,f(r.data.token),n(c.loginSuccess(r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(c.loginError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},logOut:function(){return function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(c.logoutRequest()),t.prev=1,t.next=4,s.a.post("/users/logout");case 4:O(),e(c.logoutSuccess()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(c.logoutError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(u.a)(o.a.mark((function t(e,n){var r,a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),a=r.auth.token){t.next=3;break}return t.abrupt("return");case 3:return f(a),e(c.getCurrentUserRequest()),t.prev=5,t.next=8,s.a.get("/users/current");case 8:u=t.sent,e(c.getCurrentUserSuccess(u.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(c.getCurrentUserError(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}},h=n(3),p=n(6),v={name:null,email:null},x=Object(r.c)(v,(b={},Object(h.a)(b,c.registerSuccess,(function(t,e){return e.payload.user})),Object(h.a)(b,c.loginSuccess,(function(t,e){return e.payload.user})),Object(h.a)(b,c.logoutSuccess,(function(){return v})),Object(h.a)(b,c.getCurrentUserSuccess,(function(t,e){return e.payload})),b)),m=Object(r.c)(null,(l={},Object(h.a)(l,c.registerSuccess,(function(t,e){return e.payload.token})),Object(h.a)(l,c.loginSuccess,(function(t,e){return e.payload.token})),Object(h.a)(l,c.logoutSuccess,(function(){return null})),l)),y=Object(r.c)(null,(j={},Object(h.a)(j,c.registerError,(function(t,e){return e.payload})),Object(h.a)(j,c.loginError,(function(t,e){return e.payload})),Object(h.a)(j,c.logoutError,(function(t,e){return e.payload})),Object(h.a)(j,c.getCurrentUserError,(function(t,e){return e.payload})),j)),k=Object(r.c)(!1,(d={},Object(h.a)(d,c.registerSuccess,(function(){return!0})),Object(h.a)(d,c.loginSuccess,(function(){return!0})),Object(h.a)(d,c.getCurrentUserSuccess,(function(){return!0})),Object(h.a)(d,c.registerError,(function(){return!1})),Object(h.a)(d,c.loginError,(function(){return!1})),Object(h.a)(d,c.getCurrentUserError,(function(){return!1})),Object(h.a)(d,c.logoutSuccess,(function(){return!1})),d)),C=Object(p.c)({user:x,isAuthenticated:k,token:m,error:y}),S={getIsAuthenticated:function(t){return t.auth.isAuthenticated},getUserName:function(t){return t.auth.user.name}}},97:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(21),o=n.n(a),u=n(17),i=n(11),s=n(51),b=n(28),l=n(4),j=n(52),d=n.n(j),f=n(20),O=n(53),g=n.n(O),h=n(38),p=n(9),v=[].concat(Object(b.a)(Object(l.d)({serializableCheck:{ignoredActions:[f.a,f.f,f.b,f.c,f.d,f.e]}})),[d.a]),x={key:"auth",storage:g.a,whitelist:["token"]},m=Object(l.a)({reducer:{auth:Object(f.g)(x,p.b),contacts:h.b},middleware:v,devTools:!1}),y={store:m,persistor:Object(f.h)(m)},k=n(35),C=n(36),S=n(39),A=n(37),E=n(5),U=n(49),R={home:"/",contacts:"/contacts",register:"/register",login:"/login"},L=n(2),q={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#2b32b2"}},w=R.home,z=R.contacts,I=Object(i.b)((function(t){return{isAuthenticated:p.c.getIsAuthenticated(t)}}))((function(t){var e=t.isAuthenticated;return Object(L.jsxs)("nav",{children:[Object(L.jsx)(u.b,{to:w,exact:!0,style:q.link,activeStyle:q.activeLink,children:"Home"}),e&&Object(L.jsx)(u.b,{to:z,exact:!0,style:q.link,activeStyle:q.activeLink,children:"Phonebook"})]})})),T=n.p+"static/media/default-avatar.e44fc4e2.png",_=n(111),B={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},N={onLogout:p.a.logOut},W=Object(i.b)((function(t){return{name:p.c.getUserName(t),avatar:T}}),N)((function(t){var e=t.avatar,n=t.name,r=t.onLogout;return Object(L.jsxs)("div",{style:B.container,children:[Object(L.jsx)("img",{src:e,alt:"",width:"32",style:B.avatar}),Object(L.jsxs)("span",{style:B.name,children:["Welcome, ",n]}),Object(L.jsx)(_.a,{type:"button",variant:"contained",color:"primary",onClick:r,children:"Logout"})]})})),D=R.register,G=R.login,J={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#2b32b2"}},M=function(){return Object(L.jsxs)("div",{children:[Object(L.jsx)(u.b,{to:D,exact:!0,style:J.link,activeStyle:J.activeLink,children:"Authorization"}),Object(L.jsx)(u.b,{to:G,exact:!0,style:J.link,activeStyle:J.activeLink,children:"Login"})]})},P=n(63),F=n.n(P),H=Object(i.b)((function(t){return{isAuthenticated:p.c.getIsAuthenticated(t)}}))((function(t){var e=t.isAuthenticated;return Object(L.jsxs)("header",{className:F.a.header,children:[Object(L.jsx)(I,{}),e?Object(L.jsx)(W,{}):Object(L.jsx)(M,{})]})})),V=n(22),Y=n(29),K=Object(i.b)((function(t){return{isAuthenticated:p.c.getIsAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(Y.a)(t,["component","isAuthenticated","redirectTo"]);return Object(L.jsx)(E.b,Object(V.a)(Object(V.a)({},c),{},{render:function(t){return n?Object(L.jsx)(e,Object(V.a)({},t)):Object(L.jsx)(E.a,{to:r})}}))})),Q=Object(i.b)((function(t){return{isAuthenticated:p.c.getIsAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(Y.a)(t,["component","isAuthenticated","redirectTo"]);return Object(L.jsx)(E.b,Object(V.a)(Object(V.a)({},c),{},{render:function(t){return n&&c.restricted?Object(L.jsx)(E.a,{to:r}):Object(L.jsx)(e,Object(V.a)({},t))}}))})),X=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,135))})),Z=Object(r.lazy)((function(){return n.e(7).then(n.bind(null,136))})),$=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,137))})),tt=Object(r.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,138))})),et=R.home,nt=R.contacts,rt=R.register,ct=R.login,at=function(t){Object(S.a)(n,t);var e=Object(A.a)(n);function n(){return Object(k.a)(this,n),e.apply(this,arguments)}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurretnUser()}},{key:"render",value:function(){return Object(L.jsxs)(U.a,{children:[Object(L.jsx)(H,{}),Object(L.jsx)(r.Suspense,{fallback:Object(L.jsx)("div",{children:"Loading..."}),children:Object(L.jsxs)(E.d,{children:[Object(L.jsx)(Q,{exact:!0,path:et,component:X}),Object(L.jsx)(Q,{path:rt,restricted:!0,redirectTo:nt,component:Z}),Object(L.jsx)(Q,{path:ct,restricted:!0,redirectTo:nt,component:$}),Object(L.jsx)(K,{path:nt,component:tt,redirectTo:ct})]})})]})}}]),n}(r.Component),ot={onGetCurretnUser:p.a.getCurrentUser},ut=Object(i.b)(null,ot)(at);n(96);o.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(i.a,{store:y.store,children:Object(L.jsx)(s.a,{loading:null,persistor:y.persistor,children:Object(L.jsx)(u.a,{children:Object(L.jsx)(ut,{})})})})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.a37a2fd3.chunk.js.map
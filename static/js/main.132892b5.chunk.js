(this["webpackJsonpgoit-react"]=this["webpackJsonpgoit-react"]||[]).push([[0],{100:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(21),o=n.n(a),u=n(17),s=n(11),i=n(54),b=n(30),j=n(4),l=n(55),d=n.n(l),f=n(20),O=n(56),g=n.n(O),h=n(41),p=n(9),v=[].concat(Object(b.a)(Object(j.d)({serializableCheck:{ignoredActions:[f.a,f.f,f.b,f.c,f.d,f.e]}})),[d.a]),m={key:"auth",storage:g.a,whitelist:["token"]},x=Object(j.a)({reducer:{auth:Object(f.g)(m,p.b),contacts:h.b},middleware:v,devTools:!1}),k={store:x,persistor:Object(f.h)(x)},C=n(38),y=n(39),S=n(42),_=n(40),A=n(5),E=n(52),U={home:"/",contacts:"/contacts",register:"/register",login:"/login"},L=n(25),N=n.n(L),R=n(2),q=U.home,w=U.contacts,T=Object(s.b)((function(t){return{isAuthenticated:p.c.getIsAuthenticated(t)}}))((function(t){var e=t.isAuthenticated;return Object(R.jsxs)("nav",{children:[Object(R.jsx)(u.b,{to:q,exact:!0,className:N.a.link,activeClassName:N.a.activeLink,children:"Home"}),e&&Object(R.jsx)(u.b,{to:w,exact:!0,style:N.a.link,activeStyle:N.a.activeLink,children:"Phonebook"})]})})),z=n.p+"static/media/default-avatar.e44fc4e2.png",I=n(114),J=n(32),M=n.n(J),B={onLogout:p.a.logOut},P=Object(s.b)((function(t){return{name:p.c.getUserName(t),avatar:z}}),B)((function(t){var e=t.avatar,n=t.name,r=t.onLogout;return Object(R.jsxs)("div",{className:M.a.container,children:[Object(R.jsx)("img",{src:e,alt:"",width:"32",className:M.a.avatar}),Object(R.jsxs)("span",{className:M.a.name,children:["Welcome, ",n]}),Object(R.jsx)(I.a,{type:"button",variant:"contained",color:"primary",onClick:r,children:"Logout"})]})})),F=n(26),G=n.n(F),H=U.register,Q=U.login,V=function(){return Object(R.jsxs)("div",{children:[Object(R.jsx)(u.b,{to:H,exact:!0,className:G.a.link,activeClassName:G.a.activeLink,children:"Authorization"}),Object(R.jsx)(u.b,{to:Q,exact:!0,className:G.a.link,activeClassName:G.a.activeLink,children:"Login"})]})},W=n(66),Y=n.n(W),D=Object(s.b)((function(t){return{isAuthenticated:p.c.getIsAuthenticated(t)}}))((function(t){var e=t.isAuthenticated;return Object(R.jsxs)("header",{className:Y.a.header,children:[Object(R.jsx)(T,{}),e?Object(R.jsx)(P,{}):Object(R.jsx)(V,{})]})})),K=n(22),X=n(31),Z=Object(s.b)((function(t){return{isAuthenticated:p.c.getIsAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(X.a)(t,["component","isAuthenticated","redirectTo"]);return Object(R.jsx)(A.b,Object(K.a)(Object(K.a)({},c),{},{render:function(t){return n?Object(R.jsx)(e,Object(K.a)({},t)):Object(R.jsx)(A.a,{to:r})}}))})),$=Object(s.b)((function(t){return{isAuthenticated:p.c.getIsAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=t.redirectTo,c=Object(X.a)(t,["component","isAuthenticated","redirectTo"]);return Object(R.jsx)(A.b,Object(K.a)(Object(K.a)({},c),{},{render:function(t){return n&&c.restricted?Object(R.jsx)(A.a,{to:r}):Object(R.jsx)(e,Object(K.a)({},t))}}))})),tt=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,142))})),et=Object(r.lazy)((function(){return n.e(7).then(n.bind(null,139))})),nt=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,140))})),rt=Object(r.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,141))})),ct=U.home,at=U.contacts,ot=U.register,ut=U.login,st=function(t){Object(S.a)(n,t);var e=Object(_.a)(n);function n(){return Object(C.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurretnUser()}},{key:"render",value:function(){return Object(R.jsxs)(E.a,{children:[Object(R.jsx)(D,{}),Object(R.jsx)(r.Suspense,{fallback:Object(R.jsx)("div",{children:"Loading..."}),children:Object(R.jsxs)(A.d,{children:[Object(R.jsx)($,{exact:!0,path:ct,component:tt}),Object(R.jsx)($,{path:ot,restricted:!0,redirectTo:at,component:et}),Object(R.jsx)($,{exact:!0,path:ut,restricted:!0,redirectTo:at,component:nt}),Object(R.jsx)(Z,{path:at,component:rt,redirectTo:ut}),Object(R.jsx)($,{component:tt})]})})]})}}]),n}(r.Component),it={onGetCurretnUser:p.a.getCurrentUser},bt=Object(s.b)(null,it)(st);n(99);o.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(s.a,{store:k.store,children:Object(R.jsx)(i.a,{loading:null,persistor:k.persistor,children:Object(R.jsx)(u.a,{children:Object(R.jsx)(bt,{})})})})}),document.getElementById("root"))},25:function(t,e,n){t.exports={link:"Navigation_link__1RrtQ",activeLink:"Navigation_activeLink__JuJSJ"}},26:function(t,e,n){t.exports={link:"AuthNav_link__1x85v",activeLink:"AuthNav_activeLink__HFOYe"}},32:function(t,e,n){t.exports={container:"UseMenu_container__2Pmi9",avatar:"UseMenu_avatar__1fUAf",name:"UseMenu_name__1QTWV"}},41:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return C})),n.d(e,"b",(function(){return N}));var r,c,a,o=n(4),u=Object(o.b)("contacts/fetchContactRequrest"),s=Object(o.b)("contacts/fetchContactSuccess"),i=Object(o.b)("contacts/fetchContactError"),b=Object(o.b)("contacts/addContactRequrest"),j=Object(o.b)("contacts/addContactSuccess"),l=Object(o.b)("contacts/addContactError"),d=Object(o.b)("contacts/deleteContactRequrest"),f=Object(o.b)("contacts/deleteContactSuccess"),O=Object(o.b)("contacts/deleteContactError"),g=Object(o.b)("contacts/filter"),h=n(14),p=n.n(h),v={fetchContact:function(){return function(t){t(u()),p.a.get("/contacts").then((function(e){var n=e.data;return t(s(n))})).catch((function(e){return t(i(e.message))}))}},addContact:function(t,e){return function(n){var r={name:t,number:e};n(b()),p.a.post("/contacts",r).then((function(t){var e=t.data;return n(j(e))})).catch((function(t){return n(l(t.message))}))}},deleteContact:function(t){return function(e){e(d()),p.a.delete("/contacts/".concat(t)).then((function(){e(f(t))})).catch((function(t){return e(O(t.message))}))}}},m=n(28),x=function(t){return t.contacts.items},k=function(t){return t.contacts.filter},C={getContacts:x,getFilter:k,getLoding:function(t){return t.contacts.loading},getError:function(t){return t.contacts.error},getVisibleContact:Object(m.a)([x,k],(function(t,e){console.log("\u043d\u043e\u0432\u044b\u0439 \u043c\u0430\u0441\u0441\u0438\u0432 \u0432\u0438\u0434\u0438\u043c\u044b\u0445 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432");var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},y=n(3),S=n(30),_=n(6),A=Object(o.c)([],(r={},Object(y.a)(r,s,(function(t,e){return e.payload})),Object(y.a)(r,j,(function(t,e){var n=e.payload;return[].concat(Object(S.a)(t),[n])})),Object(y.a)(r,f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),r)),E=Object(o.c)("",Object(y.a)({},g,(function(t,e){return e.payload}))),U=Object(o.c)(!1,(c={},Object(y.a)(c,u,(function(){return!0})),Object(y.a)(c,s,(function(){return!1})),Object(y.a)(c,i,(function(){return!1})),Object(y.a)(c,b,(function(){return!0})),Object(y.a)(c,j,(function(){return!1})),Object(y.a)(c,l,(function(){return!1})),Object(y.a)(c,d,(function(){return!0})),Object(y.a)(c,f,(function(){return!1})),Object(y.a)(c,O,(function(){return!1})),c)),L=Object(o.c)("",(a={},Object(y.a)(a,i,(function(t,e){return e.payload})),Object(y.a)(a,l,(function(t,e){return e.payload})),Object(y.a)(a,O,(function(t,e){return e.payload})),a)),N=Object(_.c)({items:A,filter:E,loading:U,error:L})},52:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(0);var r=n(57),c=n.n(r),a=n(2),o=function(t){var e=t.children;return Object(a.jsx)("div",{className:c.a.Container,children:e})}},57:function(t,e,n){t.exports={Container:"Container_Container__1SA48"}},66:function(t,e,n){t.exports={header:"AppBar_header__Yd86L"}},9:function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return S}));var r=n(4),c={registerRequest:Object(r.b)("auth/registerRequest"),registerSuccess:Object(r.b)("auth/registerSuccess"),registerError:Object(r.b)("auth/registerError"),loginRequest:Object(r.b)("auth/loginRequest"),loginSuccess:Object(r.b)("auth/loginSuccess"),loginError:Object(r.b)("auth/loginError"),logoutRequest:Object(r.b)("auth/logoutRequest"),logoutSuccess:Object(r.b)("auth/logoutSuccess"),logoutError:Object(r.b)("auth/logoutError"),getCurrentUserRequest:Object(r.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(r.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(r.b)("auth/getCurrentUserError")},a=n(19),o=n.n(a),u=n(24),s=n(14),i=n.n(s);i.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var b,j,l,d,f=function(t){i.a.defaults.headers.common.Authorization="Bearer ".concat(t)},O=function(){i.a.defaults.headers.common.Authorization=""},g={register:function(t){return function(){var e=Object(u.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(c.registerRequest()),e.prev=1,e.next=4,i.a.post("/users/signup",t);case 4:r=e.sent,f(r.data.token),n(c.registerSuccess(r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(c.registerError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(t){return function(){var e=Object(u.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(c.loginRequest()),e.prev=1,e.next=4,i.a.post("/users/login",t);case 4:r=e.sent,f(r.data.token),n(c.loginSuccess(r.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(c.loginError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},logOut:function(){return function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(c.logoutRequest()),t.prev=1,t.next=4,i.a.post("/users/logout");case 4:O(),e(c.logoutSuccess()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(c.logoutError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(u.a)(o.a.mark((function t(e,n){var r,a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),a=r.auth.token){t.next=3;break}return t.abrupt("return");case 3:return f(a),e(c.getCurrentUserRequest()),t.prev=5,t.next=8,i.a.get("/users/current");case 8:u=t.sent,e(c.getCurrentUserSuccess(u.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(c.getCurrentUserError(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}},h=n(3),p=n(6),v={name:null,email:null},m=Object(r.c)(v,(b={},Object(h.a)(b,c.registerSuccess,(function(t,e){return e.payload.user})),Object(h.a)(b,c.loginSuccess,(function(t,e){return e.payload.user})),Object(h.a)(b,c.logoutSuccess,(function(){return v})),Object(h.a)(b,c.getCurrentUserSuccess,(function(t,e){return e.payload})),b)),x=Object(r.c)(null,(j={},Object(h.a)(j,c.registerSuccess,(function(t,e){return e.payload.token})),Object(h.a)(j,c.loginSuccess,(function(t,e){return e.payload.token})),Object(h.a)(j,c.logoutSuccess,(function(){return null})),j)),k=Object(r.c)(null,(l={},Object(h.a)(l,c.registerError,(function(t,e){return e.payload})),Object(h.a)(l,c.loginError,(function(t,e){return e.payload})),Object(h.a)(l,c.logoutError,(function(t,e){return e.payload})),Object(h.a)(l,c.getCurrentUserError,(function(t,e){return e.payload})),l)),C=Object(r.c)(!1,(d={},Object(h.a)(d,c.registerSuccess,(function(){return!0})),Object(h.a)(d,c.loginSuccess,(function(){return!0})),Object(h.a)(d,c.getCurrentUserSuccess,(function(){return!0})),Object(h.a)(d,c.registerError,(function(){return!1})),Object(h.a)(d,c.loginError,(function(){return!1})),Object(h.a)(d,c.getCurrentUserError,(function(){return!1})),Object(h.a)(d,c.logoutSuccess,(function(){return!1})),d)),y=Object(p.c)({user:m,isAuthenticated:C,token:x,error:k}),S={getIsAuthenticated:function(t){return t.auth.isAuthenticated},getUserName:function(t){return t.auth.user.name}}}},[[100,1,2]]]);
//# sourceMappingURL=main.132892b5.chunk.js.map